<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<record id="view_product_approval_form" model="ir.ui.view">
			<field name="name">product.approval.form</field>
			<field name="model">product.approval</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Pre Product Creation Form" copy="false" delete="false">
					<header>
						<button name="action_pending" string="Pending" type="object"
								class="oe_highlight" attrs="{'invisible':[('state','not in',('draft'))]}"/>
						<button name="action_approved" string="Approve" type="object"
								class="oe_highlight" attrs="{'invisible':[('state','not in',('pending'))]}"/>
						<button name="action_done" string="Done" type="object"
								class="oe_highlight" attrs="{'invisible':[('state','not in',('approved'))]}"/>
						<button name="action_set_to_approved" string="Set to Approved" type="object"
								class="oe_highlight" attrs="{'invisible':[('state','not in',('done'))]}"/>
						<field name="state" widget="statusbar" statusbar_visible="draft,pending,approved,done"/>
					</header>

					<sheet>
						<group>
							<group>
								<field name="image_medium" widget="image" class="oe_avatar oe_left" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
								<field name="carton_image" widget="image" class="oe_avatar oe_left" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
								<field name="product_name" attrs="{'readonly': ['|',('is_prod_created','=',True),('state','=','done')]}" required="1"  style="width: 90%%"/>
								<field name="product_short_name" attrs="{'readonly': [('state','=','done')]}" required="1" style="width: 90%%"/>
								<field name="default_code" attrs="{'readonly': [('state','=','done')]}" required="1" style="width: 55%%"/>
								<!-- <field name="sequence" attrs="{'readonly': [('state','=','done')]}" required="1" style="width: 55%%"/> -->
								<field name="description" attrs="{'readonly': [('state','=','done')]}"/>
								<field name="sale_description" attrs="{'readonly': [('state','=','done')]}"/>
								<field name="is_prod_created" readonly="1"/>
								<field name="is_prod_changed" readonly="1"/>
								<field name="write_uid" readonly="1"/>
								<field name="write_date" readonly="1"/>
							</group>
							<group>
								<h1>
                                    <span style="font-size:33px; color:red; font-weight:bold;">
										<label string = "Your Product is already created!!" attrs="{'invisible':['&amp;',('state','not in',('done')),('is_prod_created','!=',True)]}"/>
										<field name="product_tmpl_id" attrs="{'invisible':['&amp;',('state','not in',('done')),('is_prod_created','!=',True)]}" readonly="1" nolabel="1"/>
										<label string = "Ready to be Approved!" attrs="{'invisible':[('state','not in',('pending'))]}"/>
										<label string = "Ready to be Done!" attrs="{'invisible':['|',('state','not in',('approved')),'&amp;',('is_prod_created','=',True),('is_prod_changed','=',True)]}"/>
									</span>
								</h1>
							</group>
						</group>
						<group>
							<notebook>
								<page string="Base Information">
									<group>
										<group>
											<field name="product_type" attrs="{'readonly': [('state','=','done')]}" required="1"  style="width: 30%%"/>
											<field name="base_uom_id" attrs="{'readonly': [('state','=','done')]}" required="1" style="width: 30%%"/>
											<field name="report_uom_id" attrs="{'readonly': [('state','=','done')]}" required="1" style="width: 30%%"/>
											<field name="purchase_uom_id" attrs="{'readonly': [('state','=','done')]}" required="1" style="width: 30%%"/>
											<field name="product_principal_id" attrs="{'readonly': [('state','=','done')]}" required="1" style="width: 30%%"/>
											<field name="product_category_id" attrs="{'readonly': [('state','=','done')]}" domain="[('principal_id', '=', product_principal_id)]" required="1" style="width: 30%%"/>
											<field name="product_group_id" attrs="{'readonly': [('state','=','done')]}" required="1" style="width: 30%%"/>
											<field name="barcode_no" attrs="{'readonly': [('state','=','done')]}" style="width: 30%%"/>
											<field name="barcode_approval_ids" attrs="{'readonly': [('state','=','done')]}" style="width: 30%%">
												<tree editable="bottom">
	                            					<field name="name" />
	                        					</tree>
											</field>
										</group>
									</group>
								</page>
								<page string="Woo Information">
									<group>
										<group>
											<field name="ecommerce_uom_id" attrs="{'readonly': [('state','=','done')]}" style="width: 30%%"/>
											<!-- <field name="uom_lines" attrs="{'readonly': [('state','=','done')]}" >
												<tree editable="bottom">
	                            					<field name="name" />
	                        					</tree>
											</field> -->
											<field name="uom_lines" attrs="{'readonly': [('state','=','done')]}">
											</field>
											<field name="uom_price_lines">
												<form string="UOM Price Lines" attrs="{'readonly': [('state','=','done')]}">
													<group>
														<field name="name" on_change="onchange_product_uom(name)" />
														<field name="category_id" />
														<field name="factor" />
														<field name="price" />
														<field name="uom_ratio" />
														<field name="weight" />
														<field name="length" />
														<field name="width" />
														<field name="height" />
														<field name="per_pallet" />
													</group>
												</form>
												<tree string="UOM Price Lines" editable="bottom">
													<field name="name" on_change="onchange_product_uom(name)" />
													<field name="category_id" />
													<field name="factor" />
													<field name="price" />
													<field name="uom_ratio" />
													<field name="weight" />
													<field name="length" />
													<field name="width" />
													<field name="height" />
													<field name="per_pallet" />
												</tree>
											</field>
											<field name="tag_ids" attrs="{'readonly': [('state','=','done')]}" style="width: 30%%"/>
											<field name="brand_id" attrs="{'readonly': [('state','=','done')]}" style="width: 30%%"/>
											<field name="supplier_id" attrs="{'readonly': [('state','=','done')]}" style="width: 30%%"/>
											<field name="department_id" attrs="{'readonly': [('state','=','done')]}" style="width: 30%%"/>
										</group>
									</group>
								</page>
								<page string="Supply Chain Information">
									<group>
										<group>
											<field name="small_uom_weight" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="ctn_weight"  attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="viss_value" attrs="{'readonly': [('state','=','done')]}" string='Big UOM Weight (Viss)' style="width: 55%%"/>
											<field name="big_uom_length" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="big_uom_breadth" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="ctn_height" string='Big UOM (H) cm' attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="cbm_value" string='Big UOM CBM(cm3)' attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="ti" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="hi" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="ctn_pallet" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="ctn_pallet_pickface" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="inbound_shelf_life" string="Inbound Shelf Life (Maximum Days)" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
											<field name="inbound_shelf_life_min" string="Inbound Shelf Life (Minimum Days)" attrs="{'readonly': [('state','=','done')]}" style="width: 55%%"/>
										</group>
										<group>
											<field name="uom_ratio" attrs="{'readonly': [('state','=','done')]}" required="1" style="width: 30%%"/>
										</group>
									</group>
								</page>
							</notebook>
						</group>
					</sheet>
					<div class = "oe_chatter">
                        <field name = "message_follower_ids" widget="mail_followers"/>
                        <field name = "message_ids" widget="mail_thread" options='{"thread_level": 1}'/>
                    </div>
				</form>
			</field>
		</record>

		<record id="view_product_approval_tree" model="ir.ui.view">
			<field name="name">product.approval.tree</field>
			<field name="model">product.approval</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Pre Product Creation">
					<field name="product_name"/>
					<field name="state"/>
				</tree>
			</field>

		</record>

		<record id="action_product_approval_view" model="ir.actions.act_window">
			<field name="name">Pre Product Creation Form</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">product.approval</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" eval="view_product_approval_tree" />
		</record>

		<menuitem id="product_creation_menu" parent="base.menu_base_config"
				  name="Pre Product Creation" action="action_product_approval_view" groups="base.group_user" />
	</data>
</openerp>